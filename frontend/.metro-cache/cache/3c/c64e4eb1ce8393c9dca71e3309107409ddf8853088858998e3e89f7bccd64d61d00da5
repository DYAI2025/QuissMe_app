{"dependencies":[{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":69,"index":69}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"api\", {\n    enumerable: true,\n    get: function () {\n      return api;\n    }\n  });\n  Object.defineProperty(exports, \"storage\", {\n    enumerable: true,\n    get: function () {\n      return storage;\n    }\n  });\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[0], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  const BACKEND_URL = process.env.EXPO_PUBLIC_BACKEND_URL;\n  async function apiFetch(path, options) {\n    const url = `${BACKEND_URL}${path}`;\n    const res = await fetch(url, {\n      ...options,\n      headers: {\n        'Content-Type': 'application/json',\n        ...options?.headers\n      }\n    });\n    if (!res.ok) {\n      const err = await res.text();\n      throw new Error(err);\n    }\n    return res.json();\n  }\n  const api = {\n    registerUser: data => apiFetch('/api/users/register', {\n      method: 'POST',\n      body: JSON.stringify(data)\n    }),\n    getUser: id => apiFetch(`/api/users/${id}`),\n    joinInvite: data => apiFetch('/api/invite/join', {\n      method: 'POST',\n      body: JSON.stringify(data)\n    }),\n    getCouple: id => apiFetch(`/api/couple/${id}`),\n    getCoupleStatus: id => apiFetch(`/api/couple/${id}/status`),\n    getQuizzes: () => apiFetch('/api/quizzes'),\n    getQuiz: id => apiFetch(`/api/quizzes/${id}`),\n    submitQuiz: data => apiFetch('/api/quiz/submit', {\n      method: 'POST',\n      body: JSON.stringify(data)\n    }),\n    getQuizResult: id => apiFetch(`/api/quiz/result/${id}`),\n    getCoupleResults: id => apiFetch(`/api/quiz/results/${id}`)\n  };\n  const storage = {\n    setUserId: id => AsyncStorage.default.setItem('quissme_user_id', id),\n    getUserId: () => AsyncStorage.default.getItem('quissme_user_id'),\n    setCoupleId: id => AsyncStorage.default.setItem('quissme_couple_id', id),\n    getCoupleId: () => AsyncStorage.default.getItem('quissme_couple_id'),\n    setInviteCode: code => AsyncStorage.default.setItem('quissme_invite_code', code),\n    getInviteCode: () => AsyncStorage.default.getItem('quissme_invite_code'),\n    clear: () => AsyncStorage.default.multiRemove(['quissme_user_id', 'quissme_couple_id', 'quissme_invite_code'])\n  };\n});","lineCount":72,"map":[[12,2,18,0,"Object"],[12,8,18,0],[12,9,18,0,"defineProperty"],[12,23,18,0],[12,24,18,0,"exports"],[12,31,18,0],[13,4,18,0,"enumerable"],[13,14,18,0],[14,4,18,0,"get"],[14,7,18,0],[14,18,18,0,"get"],[14,19,18,0],[15,6,18,0],[15,13,18,0,"api"],[15,16,18,0],[16,4,18,0],[17,2,18,0],[18,2,31,0,"Object"],[18,8,31,0],[18,9,31,0,"defineProperty"],[18,23,31,0],[18,24,31,0,"exports"],[18,31,31,0],[19,4,31,0,"enumerable"],[19,14,31,0],[20,4,31,0,"get"],[20,7,31,0],[20,18,31,0,"get"],[20,19,31,0],[21,6,31,0],[21,13,31,0,"storage"],[21,20,31,0],[22,4,31,0],[23,2,31,0],[24,2,1,0],[24,6,1,0,"_reactNativeAsyncStorageAsyncStorage"],[24,42,1,0],[24,45,1,0,"require"],[24,52,1,0],[24,53,1,0,"_dependencyMap"],[24,67,1,0],[25,2,1,0],[25,6,1,0,"AsyncStorage"],[25,18,1,0],[25,21,1,0,"_interopDefault"],[25,36,1,0],[25,37,1,0,"_reactNativeAsyncStorageAsyncStorage"],[25,73,1,0],[26,2,3,0],[26,8,3,6,"BACKEND_URL"],[26,19,3,17],[26,22,3,20,"process"],[26,29,3,27],[26,30,3,28,"env"],[26,33,3,31],[26,34,3,32,"EXPO_PUBLIC_BACKEND_URL"],[26,57,3,55],[27,2,5,0],[27,17,5,15,"apiFetch"],[27,25,5,23,"apiFetch"],[27,26,5,24,"path"],[27,30,5,36],[27,32,5,38,"options"],[27,39,5,59],[27,41,5,61],[28,4,6,2],[28,10,6,8,"url"],[28,13,6,11],[28,16,6,14],[28,19,6,17,"BACKEND_URL"],[28,30,6,28],[28,33,6,31,"path"],[28,37,6,35],[28,39,6,37],[29,4,7,2],[29,10,7,8,"res"],[29,13,7,11],[29,16,7,14],[29,22,7,20,"fetch"],[29,27,7,25],[29,28,7,26,"url"],[29,31,7,29],[29,33,7,31],[30,6,8,4],[30,9,8,7,"options"],[30,16,8,14],[31,6,9,4,"headers"],[31,13,9,11],[31,15,9,13],[32,8,9,15],[32,22,9,29],[32,24,9,31],[32,42,9,49],[33,8,9,51],[33,11,9,54,"options"],[33,18,9,61],[33,20,9,63,"headers"],[34,6,9,71],[35,4,10,2],[35,5,10,3],[35,6,10,4],[36,4,11,2],[36,8,11,6],[36,9,11,7,"res"],[36,12,11,10],[36,13,11,11,"ok"],[36,15,11,13],[36,17,11,15],[37,6,12,4],[37,12,12,10,"err"],[37,15,12,13],[37,18,12,16],[37,24,12,22,"res"],[37,27,12,25],[37,28,12,26,"text"],[37,32,12,30],[37,33,12,31],[37,34,12,32],[38,6,13,4],[38,12,13,10],[38,16,13,14,"Error"],[38,21,13,19],[38,22,13,20,"err"],[38,25,13,23],[38,26,13,24],[39,4,14,2],[40,4,15,2],[40,11,15,9,"res"],[40,14,15,12],[40,15,15,13,"json"],[40,19,15,17],[40,20,15,18],[40,21,15,19],[41,2,16,0],[42,2,18,7],[42,8,18,13,"api"],[42,11,18,16],[42,14,18,19],[43,4,19,2,"registerUser"],[43,16,19,14],[43,18,19,17,"data"],[43,22,19,26],[43,26,19,31,"apiFetch"],[43,34,19,39],[43,35,19,40],[43,56,19,61],[43,58,19,63],[44,6,19,65,"method"],[44,12,19,71],[44,14,19,73],[44,20,19,79],[45,6,19,81,"body"],[45,10,19,85],[45,12,19,87,"JSON"],[45,16,19,91],[45,17,19,92,"stringify"],[45,26,19,101],[45,27,19,102,"data"],[45,31,19,106],[46,4,19,108],[46,5,19,109],[46,6,19,110],[47,4,20,2,"getUser"],[47,11,20,9],[47,13,20,12,"id"],[47,15,20,22],[47,19,20,27,"apiFetch"],[47,27,20,35],[47,28,20,36],[47,42,20,50,"id"],[47,44,20,52],[47,46,20,54],[47,47,20,55],[48,4,21,2,"joinInvite"],[48,14,21,12],[48,16,21,15,"data"],[48,20,21,24],[48,24,21,29,"apiFetch"],[48,32,21,37],[48,33,21,38],[48,51,21,56],[48,53,21,58],[49,6,21,60,"method"],[49,12,21,66],[49,14,21,68],[49,20,21,74],[50,6,21,76,"body"],[50,10,21,80],[50,12,21,82,"JSON"],[50,16,21,86],[50,17,21,87,"stringify"],[50,26,21,96],[50,27,21,97,"data"],[50,31,21,101],[51,4,21,103],[51,5,21,104],[51,6,21,105],[52,4,22,2,"getCouple"],[52,13,22,11],[52,15,22,14,"id"],[52,17,22,24],[52,21,22,29,"apiFetch"],[52,29,22,37],[52,30,22,38],[52,45,22,53,"id"],[52,47,22,55],[52,49,22,57],[52,50,22,58],[53,4,23,2,"getCoupleStatus"],[53,19,23,17],[53,21,23,20,"id"],[53,23,23,30],[53,27,23,35,"apiFetch"],[53,35,23,43],[53,36,23,44],[53,51,23,59,"id"],[53,53,23,61],[53,62,23,70],[53,63,23,71],[54,4,24,2,"getQuizzes"],[54,14,24,12],[54,16,24,14,"getQuizzes"],[54,17,24,14],[54,22,24,20,"apiFetch"],[54,30,24,28],[54,31,24,29],[54,45,24,43],[54,46,24,44],[55,4,25,2,"getQuiz"],[55,11,25,9],[55,13,25,12,"id"],[55,15,25,22],[55,19,25,27,"apiFetch"],[55,27,25,35],[55,28,25,36],[55,44,25,52,"id"],[55,46,25,54],[55,48,25,56],[55,49,25,57],[56,4,26,2,"submitQuiz"],[56,14,26,12],[56,16,26,15,"data"],[56,20,26,24],[56,24,26,29,"apiFetch"],[56,32,26,37],[56,33,26,38],[56,51,26,56],[56,53,26,58],[57,6,26,60,"method"],[57,12,26,66],[57,14,26,68],[57,20,26,74],[58,6,26,76,"body"],[58,10,26,80],[58,12,26,82,"JSON"],[58,16,26,86],[58,17,26,87,"stringify"],[58,26,26,96],[58,27,26,97,"data"],[58,31,26,101],[59,4,26,103],[59,5,26,104],[59,6,26,105],[60,4,27,2,"getQuizResult"],[60,17,27,15],[60,19,27,18,"id"],[60,21,27,28],[60,25,27,33,"apiFetch"],[60,33,27,41],[60,34,27,42],[60,54,27,62,"id"],[60,56,27,64],[60,58,27,66],[60,59,27,67],[61,4,28,2,"getCoupleResults"],[61,20,28,18],[61,22,28,21,"id"],[61,24,28,31],[61,28,28,36,"apiFetch"],[61,36,28,44],[61,37,28,45],[61,58,28,66,"id"],[61,60,28,68],[61,62,28,70],[62,2,29,0],[62,3,29,1],[63,2,31,7],[63,8,31,13,"storage"],[63,15,31,20],[63,18,31,23],[64,4,32,2,"setUserId"],[64,13,32,11],[64,15,32,14,"id"],[64,17,32,24],[64,21,32,29,"AsyncStorage"],[64,33,32,41],[64,34,32,41,"default"],[64,41,32,41],[64,42,32,42,"setItem"],[64,49,32,49],[64,50,32,50],[64,67,32,67],[64,69,32,69,"id"],[64,71,32,71],[64,72,32,72],[65,4,33,2,"getUserId"],[65,13,33,11],[65,15,33,13,"getUserId"],[65,16,33,13],[65,21,33,19,"AsyncStorage"],[65,33,33,31],[65,34,33,31,"default"],[65,41,33,31],[65,42,33,32,"getItem"],[65,49,33,39],[65,50,33,40],[65,67,33,57],[65,68,33,58],[66,4,34,2,"setCoupleId"],[66,15,34,13],[66,17,34,16,"id"],[66,19,34,26],[66,23,34,31,"AsyncStorage"],[66,35,34,43],[66,36,34,43,"default"],[66,43,34,43],[66,44,34,44,"setItem"],[66,51,34,51],[66,52,34,52],[66,71,34,71],[66,73,34,73,"id"],[66,75,34,75],[66,76,34,76],[67,4,35,2,"getCoupleId"],[67,15,35,13],[67,17,35,15,"getCoupleId"],[67,18,35,15],[67,23,35,21,"AsyncStorage"],[67,35,35,33],[67,36,35,33,"default"],[67,43,35,33],[67,44,35,34,"getItem"],[67,51,35,41],[67,52,35,42],[67,71,35,61],[67,72,35,62],[68,4,36,2,"setInviteCode"],[68,17,36,15],[68,19,36,18,"code"],[68,23,36,30],[68,27,36,35,"AsyncStorage"],[68,39,36,47],[68,40,36,47,"default"],[68,47,36,47],[68,48,36,48,"setItem"],[68,55,36,55],[68,56,36,56],[68,77,36,77],[68,79,36,79,"code"],[68,83,36,83],[68,84,36,84],[69,4,37,2,"getInviteCode"],[69,17,37,15],[69,19,37,17,"getInviteCode"],[69,20,37,17],[69,25,37,23,"AsyncStorage"],[69,37,37,35],[69,38,37,35,"default"],[69,45,37,35],[69,46,37,36,"getItem"],[69,53,37,43],[69,54,37,44],[69,75,37,65],[69,76,37,66],[70,4,38,2,"clear"],[70,9,38,7],[70,11,38,9,"clear"],[70,12,38,9],[70,17,38,15,"AsyncStorage"],[70,29,38,27],[70,30,38,27,"default"],[70,37,38,27],[70,38,38,28,"multiRemove"],[70,49,38,39],[70,50,38,40],[70,51,38,41],[70,68,38,58],[70,70,38,60],[70,89,38,79],[70,91,38,81],[70,112,38,102],[70,113,38,103],[71,2,39,0],[71,3,39,1],[72,0,39,2],[72,3]],"functionMap":{"names":["<global>","apiFetch","registerUser","getUser","joinInvite","getCouple","getCoupleStatus","getQuizzes","getQuiz","submitQuiz","getQuizResult","getCoupleResults","storage.setUserId","storage.getUserId","storage.setCoupleId","storage.getCoupleId","storage.setInviteCode","storage.getInviteCode","storage.clear"],"mappings":"AAA;ACI;CDW;gBEG,8FF;WGC,4CH;cIC,2FJ;aKC,6CL;mBMC,oDN;cOC,8BP;WQC,8CR;cSC,2FT;iBUC,kDV;oBWC,mDX;aYI,2DZ;aaC,6Cb;ecC,6Dd;eeC,+Cf;iBgBC,mEhB;iBiBC,iDjB;SkBC,+FlB"},"hasCjsExports":false},"type":"js/module"}]}