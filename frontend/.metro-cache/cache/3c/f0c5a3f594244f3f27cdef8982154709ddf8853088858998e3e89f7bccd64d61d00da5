{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":69,"index":69}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"api\", {\n    enumerable: true,\n    get: function () {\n      return api;\n    }\n  });\n  Object.defineProperty(exports, \"storage\", {\n    enumerable: true,\n    get: function () {\n      return storage;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  const BACKEND_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n  async function apiFetch(path, options) {\n    const url = `${BACKEND_URL}${path}`;\n    const res = await fetch(url, {\n      ...options,\n      headers: {\n        'Content-Type': 'application/json',\n        ...options?.headers\n      }\n    });\n    if (!res.ok) {\n      const err = await res.text();\n      throw new Error(err);\n    }\n    return res.json();\n  }\n  const api = {\n    registerUser: data => apiFetch('/api/users/register', {\n      method: 'POST',\n      body: JSON.stringify(data)\n    }),\n    getUser: id => apiFetch(`/api/users/${id}`),\n    joinInvite: data => apiFetch('/api/invite/join', {\n      method: 'POST',\n      body: JSON.stringify(data)\n    }),\n    getCouple: id => apiFetch(`/api/couple/${id}`),\n    getCoupleStatus: id => apiFetch(`/api/couple/${id}/status`),\n    getQuizzes: () => apiFetch('/api/quizzes'),\n    getQuiz: id => apiFetch(`/api/quizzes/${id}`),\n    submitQuiz: data => apiFetch('/api/quiz/submit', {\n      method: 'POST',\n      body: JSON.stringify(data)\n    }),\n    getQuizResult: id => apiFetch(`/api/quiz/result/${id}`),\n    getCoupleResults: id => apiFetch(`/api/quiz/results/${id}`)\n  };\n  const storage = {\n    setUserId: id => AsyncStorage.default.setItem('quissme_user_id', id),\n    getUserId: () => AsyncStorage.default.getItem('quissme_user_id'),\n    setCoupleId: id => AsyncStorage.default.setItem('quissme_couple_id', id),\n    getCoupleId: () => AsyncStorage.default.getItem('quissme_couple_id'),\n    setInviteCode: code => AsyncStorage.default.setItem('quissme_invite_code', code),\n    getInviteCode: () => AsyncStorage.default.getItem('quissme_invite_code'),\n    clear: () => AsyncStorage.default.multiRemove(['quissme_user_id', 'quissme_couple_id', 'quissme_invite_code'])\n  };\n});","lineCount":73,"map":[[12,2,18,0,"Object"],[12,8,18,0],[12,9,18,0,"defineProperty"],[12,23,18,0],[12,24,18,0,"exports"],[12,31,18,0],[13,4,18,0,"enumerable"],[13,14,18,0],[14,4,18,0,"get"],[14,7,18,0],[14,18,18,0,"get"],[14,19,18,0],[15,6,18,0],[15,13,18,0,"api"],[15,16,18,0],[16,4,18,0],[17,2,18,0],[18,2,31,0,"Object"],[18,8,31,0],[18,9,31,0,"defineProperty"],[18,23,31,0],[18,24,31,0,"exports"],[18,31,31,0],[19,4,31,0,"enumerable"],[19,14,31,0],[20,4,31,0,"get"],[20,7,31,0],[20,18,31,0,"get"],[20,19,31,0],[21,6,31,0],[21,13,31,0,"storage"],[21,20,31,0],[22,4,31,0],[23,2,31,0],[24,2,39,2],[24,6,39,2,"_expoVirtualEnv"],[24,21,39,2],[24,24,39,2,"require"],[24,31,39,2],[24,32,39,2,"_dependencyMap"],[24,46,39,2],[25,2,1,0],[25,6,1,0,"_reactNativeAsyncStorageAsyncStorage"],[25,42,1,0],[25,45,1,0,"require"],[25,52,1,0],[25,53,1,0,"_dependencyMap"],[25,67,1,0],[26,2,1,0],[26,6,1,0,"AsyncStorage"],[26,18,1,0],[26,21,1,0,"_interopDefault"],[26,36,1,0],[26,37,1,0,"_reactNativeAsyncStorageAsyncStorage"],[26,73,1,0],[27,2,3,0],[27,8,3,6,"BACKEND_URL"],[27,19,3,17],[27,22,3,17,"_expoVirtualEnv"],[27,37,3,17],[27,38,3,17,"env"],[27,41,3,17],[27,42,3,17,"EXPO_PUBLIC_BACKEND_URL"],[27,65,3,55],[28,2,5,0],[28,17,5,15,"apiFetch"],[28,25,5,23,"apiFetch"],[28,26,5,24,"path"],[28,30,5,36],[28,32,5,38,"options"],[28,39,5,59],[28,41,5,61],[29,4,6,2],[29,10,6,8,"url"],[29,13,6,11],[29,16,6,14],[29,19,6,17,"BACKEND_URL"],[29,30,6,28],[29,33,6,31,"path"],[29,37,6,35],[29,39,6,37],[30,4,7,2],[30,10,7,8,"res"],[30,13,7,11],[30,16,7,14],[30,22,7,20,"fetch"],[30,27,7,25],[30,28,7,26,"url"],[30,31,7,29],[30,33,7,31],[31,6,8,4],[31,9,8,7,"options"],[31,16,8,14],[32,6,9,4,"headers"],[32,13,9,11],[32,15,9,13],[33,8,9,15],[33,22,9,29],[33,24,9,31],[33,42,9,49],[34,8,9,51],[34,11,9,54,"options"],[34,18,9,61],[34,20,9,63,"headers"],[35,6,9,71],[36,4,10,2],[36,5,10,3],[36,6,10,4],[37,4,11,2],[37,8,11,6],[37,9,11,7,"res"],[37,12,11,10],[37,13,11,11,"ok"],[37,15,11,13],[37,17,11,15],[38,6,12,4],[38,12,12,10,"err"],[38,15,12,13],[38,18,12,16],[38,24,12,22,"res"],[38,27,12,25],[38,28,12,26,"text"],[38,32,12,30],[38,33,12,31],[38,34,12,32],[39,6,13,4],[39,12,13,10],[39,16,13,14,"Error"],[39,21,13,19],[39,22,13,20,"err"],[39,25,13,23],[39,26,13,24],[40,4,14,2],[41,4,15,2],[41,11,15,9,"res"],[41,14,15,12],[41,15,15,13,"json"],[41,19,15,17],[41,20,15,18],[41,21,15,19],[42,2,16,0],[43,2,18,7],[43,8,18,13,"api"],[43,11,18,16],[43,14,18,19],[44,4,19,2,"registerUser"],[44,16,19,14],[44,18,19,17,"data"],[44,22,19,26],[44,26,19,31,"apiFetch"],[44,34,19,39],[44,35,19,40],[44,56,19,61],[44,58,19,63],[45,6,19,65,"method"],[45,12,19,71],[45,14,19,73],[45,20,19,79],[46,6,19,81,"body"],[46,10,19,85],[46,12,19,87,"JSON"],[46,16,19,91],[46,17,19,92,"stringify"],[46,26,19,101],[46,27,19,102,"data"],[46,31,19,106],[47,4,19,108],[47,5,19,109],[47,6,19,110],[48,4,20,2,"getUser"],[48,11,20,9],[48,13,20,12,"id"],[48,15,20,22],[48,19,20,27,"apiFetch"],[48,27,20,35],[48,28,20,36],[48,42,20,50,"id"],[48,44,20,52],[48,46,20,54],[48,47,20,55],[49,4,21,2,"joinInvite"],[49,14,21,12],[49,16,21,15,"data"],[49,20,21,24],[49,24,21,29,"apiFetch"],[49,32,21,37],[49,33,21,38],[49,51,21,56],[49,53,21,58],[50,6,21,60,"method"],[50,12,21,66],[50,14,21,68],[50,20,21,74],[51,6,21,76,"body"],[51,10,21,80],[51,12,21,82,"JSON"],[51,16,21,86],[51,17,21,87,"stringify"],[51,26,21,96],[51,27,21,97,"data"],[51,31,21,101],[52,4,21,103],[52,5,21,104],[52,6,21,105],[53,4,22,2,"getCouple"],[53,13,22,11],[53,15,22,14,"id"],[53,17,22,24],[53,21,22,29,"apiFetch"],[53,29,22,37],[53,30,22,38],[53,45,22,53,"id"],[53,47,22,55],[53,49,22,57],[53,50,22,58],[54,4,23,2,"getCoupleStatus"],[54,19,23,17],[54,21,23,20,"id"],[54,23,23,30],[54,27,23,35,"apiFetch"],[54,35,23,43],[54,36,23,44],[54,51,23,59,"id"],[54,53,23,61],[54,62,23,70],[54,63,23,71],[55,4,24,2,"getQuizzes"],[55,14,24,12],[55,16,24,14,"getQuizzes"],[55,17,24,14],[55,22,24,20,"apiFetch"],[55,30,24,28],[55,31,24,29],[55,45,24,43],[55,46,24,44],[56,4,25,2,"getQuiz"],[56,11,25,9],[56,13,25,12,"id"],[56,15,25,22],[56,19,25,27,"apiFetch"],[56,27,25,35],[56,28,25,36],[56,44,25,52,"id"],[56,46,25,54],[56,48,25,56],[56,49,25,57],[57,4,26,2,"submitQuiz"],[57,14,26,12],[57,16,26,15,"data"],[57,20,26,24],[57,24,26,29,"apiFetch"],[57,32,26,37],[57,33,26,38],[57,51,26,56],[57,53,26,58],[58,6,26,60,"method"],[58,12,26,66],[58,14,26,68],[58,20,26,74],[59,6,26,76,"body"],[59,10,26,80],[59,12,26,82,"JSON"],[59,16,26,86],[59,17,26,87,"stringify"],[59,26,26,96],[59,27,26,97,"data"],[59,31,26,101],[60,4,26,103],[60,5,26,104],[60,6,26,105],[61,4,27,2,"getQuizResult"],[61,17,27,15],[61,19,27,18,"id"],[61,21,27,28],[61,25,27,33,"apiFetch"],[61,33,27,41],[61,34,27,42],[61,54,27,62,"id"],[61,56,27,64],[61,58,27,66],[61,59,27,67],[62,4,28,2,"getCoupleResults"],[62,20,28,18],[62,22,28,21,"id"],[62,24,28,31],[62,28,28,36,"apiFetch"],[62,36,28,44],[62,37,28,45],[62,58,28,66,"id"],[62,60,28,68],[62,62,28,70],[63,2,29,0],[63,3,29,1],[64,2,31,7],[64,8,31,13,"storage"],[64,15,31,20],[64,18,31,23],[65,4,32,2,"setUserId"],[65,13,32,11],[65,15,32,14,"id"],[65,17,32,24],[65,21,32,29,"AsyncStorage"],[65,33,32,41],[65,34,32,41,"default"],[65,41,32,41],[65,42,32,42,"setItem"],[65,49,32,49],[65,50,32,50],[65,67,32,67],[65,69,32,69,"id"],[65,71,32,71],[65,72,32,72],[66,4,33,2,"getUserId"],[66,13,33,11],[66,15,33,13,"getUserId"],[66,16,33,13],[66,21,33,19,"AsyncStorage"],[66,33,33,31],[66,34,33,31,"default"],[66,41,33,31],[66,42,33,32,"getItem"],[66,49,33,39],[66,50,33,40],[66,67,33,57],[66,68,33,58],[67,4,34,2,"setCoupleId"],[67,15,34,13],[67,17,34,16,"id"],[67,19,34,26],[67,23,34,31,"AsyncStorage"],[67,35,34,43],[67,36,34,43,"default"],[67,43,34,43],[67,44,34,44,"setItem"],[67,51,34,51],[67,52,34,52],[67,71,34,71],[67,73,34,73,"id"],[67,75,34,75],[67,76,34,76],[68,4,35,2,"getCoupleId"],[68,15,35,13],[68,17,35,15,"getCoupleId"],[68,18,35,15],[68,23,35,21,"AsyncStorage"],[68,35,35,33],[68,36,35,33,"default"],[68,43,35,33],[68,44,35,34,"getItem"],[68,51,35,41],[68,52,35,42],[68,71,35,61],[68,72,35,62],[69,4,36,2,"setInviteCode"],[69,17,36,15],[69,19,36,18,"code"],[69,23,36,30],[69,27,36,35,"AsyncStorage"],[69,39,36,47],[69,40,36,47,"default"],[69,47,36,47],[69,48,36,48,"setItem"],[69,55,36,55],[69,56,36,56],[69,77,36,77],[69,79,36,79,"code"],[69,83,36,83],[69,84,36,84],[70,4,37,2,"getInviteCode"],[70,17,37,15],[70,19,37,17,"getInviteCode"],[70,20,37,17],[70,25,37,23,"AsyncStorage"],[70,37,37,35],[70,38,37,35,"default"],[70,45,37,35],[70,46,37,36,"getItem"],[70,53,37,43],[70,54,37,44],[70,75,37,65],[70,76,37,66],[71,4,38,2,"clear"],[71,9,38,7],[71,11,38,9,"clear"],[71,12,38,9],[71,17,38,15,"AsyncStorage"],[71,29,38,27],[71,30,38,27,"default"],[71,37,38,27],[71,38,38,28,"multiRemove"],[71,49,38,39],[71,50,38,40],[71,51,38,41],[71,68,38,58],[71,70,38,60],[71,89,38,79],[71,91,38,81],[71,112,38,102],[71,113,38,103],[72,2,39,0],[72,3,39,1],[73,0,39,2],[73,3]],"functionMap":{"names":["<global>","apiFetch","registerUser","getUser","joinInvite","getCouple","getCoupleStatus","getQuizzes","getQuiz","submitQuiz","getQuizResult","getCoupleResults","storage.setUserId","storage.getUserId","storage.setCoupleId","storage.getCoupleId","storage.setInviteCode","storage.getInviteCode","storage.clear"],"mappings":"AAA;ACI;CDW;gBEG,8FF;WGC,4CH;cIC,2FJ;aKC,6CL;mBMC,oDN;cOC,8BP;WQC,8CR;cSC,2FT;iBUC,kDV;oBWC,mDX;aYI,2DZ;aaC,6Cb;ecC,6Dd;eeC,+Cf;iBgBC,mEhB;iBiBC,iDjB;SkBC,+FlB"},"hasCjsExports":false},"type":"js/module"}]}