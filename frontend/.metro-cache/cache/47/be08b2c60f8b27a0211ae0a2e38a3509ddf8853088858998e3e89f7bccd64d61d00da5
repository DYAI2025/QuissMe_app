{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":69,"index":69}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"api\", {\n    enumerable: true,\n    get: function () {\n      return api;\n    }\n  });\n  Object.defineProperty(exports, \"storage\", {\n    enumerable: true,\n    get: function () {\n      return storage;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  const BACKEND_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n  async function apiFetch(path, options) {\n    const url = `${BACKEND_URL}${path}`;\n    const res = await fetch(url, Object.assign({}, options, {\n      headers: Object.assign({\n        'Content-Type': 'application/json'\n      }, options?.headers)\n    }));\n    if (!res.ok) {\n      const err = await res.text();\n      throw new Error(err);\n    }\n    return res.json();\n  }\n  const api = {\n    registerUser: data => apiFetch('/api/users/register', {\n      method: 'POST',\n      body: JSON.stringify(data)\n    }),\n    getUser: id => apiFetch(`/api/users/${id}`),\n    joinInvite: data => apiFetch('/api/invite/join', {\n      method: 'POST',\n      body: JSON.stringify(data)\n    }),\n    getCouple: id => apiFetch(`/api/couple/${id}`),\n    getCoupleStatus: id => apiFetch(`/api/couple/${id}/status`),\n    getQuizzes: () => apiFetch('/api/quizzes'),\n    getQuiz: id => apiFetch(`/api/quizzes/${id}`),\n    submitQuiz: data => apiFetch('/api/quiz/submit', {\n      method: 'POST',\n      body: JSON.stringify(data)\n    }),\n    getQuizResult: id => apiFetch(`/api/quiz/result/${id}`),\n    getCoupleResults: id => apiFetch(`/api/quiz/results/${id}`)\n  };\n  const storage = {\n    setUserId: id => AsyncStorage.default.setItem('quissme_user_id', id),\n    getUserId: () => AsyncStorage.default.getItem('quissme_user_id'),\n    setCoupleId: id => AsyncStorage.default.setItem('quissme_couple_id', id),\n    getCoupleId: () => AsyncStorage.default.getItem('quissme_couple_id'),\n    setInviteCode: code => AsyncStorage.default.setItem('quissme_invite_code', code),\n    getInviteCode: () => AsyncStorage.default.getItem('quissme_invite_code'),\n    clear: () => AsyncStorage.default.multiRemove(['quissme_user_id', 'quissme_couple_id', 'quissme_invite_code'])\n  };\n});","lineCount":71,"map":[[12,2,18,0,"Object"],[12,8,18,0],[12,9,18,0,"defineProperty"],[12,23,18,0],[12,24,18,0,"exports"],[12,31,18,0],[13,4,18,0,"enumerable"],[13,14,18,0],[14,4,18,0,"get"],[14,7,18,0],[14,18,18,0,"get"],[14,19,18,0],[15,6,18,0],[15,13,18,0,"api"],[15,16,18,0],[16,4,18,0],[17,2,18,0],[18,2,31,0,"Object"],[18,8,31,0],[18,9,31,0,"defineProperty"],[18,23,31,0],[18,24,31,0,"exports"],[18,31,31,0],[19,4,31,0,"enumerable"],[19,14,31,0],[20,4,31,0,"get"],[20,7,31,0],[20,18,31,0,"get"],[20,19,31,0],[21,6,31,0],[21,13,31,0,"storage"],[21,20,31,0],[22,4,31,0],[23,2,31,0],[24,2,39,2],[24,6,39,2,"_expoVirtualEnv"],[24,21,39,2],[24,24,39,2,"require"],[24,31,39,2],[24,32,39,2,"_dependencyMap"],[24,46,39,2],[25,2,1,0],[25,6,1,0,"_reactNativeAsyncStorageAsyncStorage"],[25,42,1,0],[25,45,1,0,"require"],[25,52,1,0],[25,53,1,0,"_dependencyMap"],[25,67,1,0],[26,2,1,0],[26,6,1,0,"AsyncStorage"],[26,18,1,0],[26,21,1,0,"_interopDefault"],[26,36,1,0],[26,37,1,0,"_reactNativeAsyncStorageAsyncStorage"],[26,73,1,0],[27,2,3,0],[27,8,3,6,"BACKEND_URL"],[27,19,3,17],[27,22,3,17,"_expoVirtualEnv"],[27,37,3,17],[27,38,3,17,"env"],[27,41,3,17],[27,42,3,17,"EXPO_PUBLIC_BACKEND_URL"],[27,65,3,55],[28,2,5,0],[28,17,5,15,"apiFetch"],[28,25,5,23,"apiFetch"],[28,26,5,24,"path"],[28,30,5,36],[28,32,5,38,"options"],[28,39,5,59],[28,41,5,61],[29,4,6,2],[29,10,6,8,"url"],[29,13,6,11],[29,16,6,14],[29,19,6,17,"BACKEND_URL"],[29,30,6,28],[29,33,6,31,"path"],[29,37,6,35],[29,39,6,37],[30,4,7,2],[30,10,7,8,"res"],[30,13,7,11],[30,16,7,14],[30,22,7,20,"fetch"],[30,27,7,25],[30,28,7,26,"url"],[30,31,7,29],[30,33,7,29,"Object"],[30,39,7,29],[30,40,7,29,"assign"],[30,46,7,29],[30,51,8,7,"options"],[30,58,8,14],[31,6,9,4,"headers"],[31,13,9,11],[31,15,9,11,"Object"],[31,21,9,11],[31,22,9,11,"assign"],[31,28,9,11],[32,8,9,15],[32,22,9,29],[32,24,9,31],[33,6,9,49],[33,9,9,54,"options"],[33,16,9,61],[33,18,9,63,"headers"],[33,25,9,70],[34,4,9,72],[34,6,10,3],[34,7,10,4],[35,4,11,2],[35,8,11,6],[35,9,11,7,"res"],[35,12,11,10],[35,13,11,11,"ok"],[35,15,11,13],[35,17,11,15],[36,6,12,4],[36,12,12,10,"err"],[36,15,12,13],[36,18,12,16],[36,24,12,22,"res"],[36,27,12,25],[36,28,12,26,"text"],[36,32,12,30],[36,33,12,31],[36,34,12,32],[37,6,13,4],[37,12,13,10],[37,16,13,14,"Error"],[37,21,13,19],[37,22,13,20,"err"],[37,25,13,23],[37,26,13,24],[38,4,14,2],[39,4,15,2],[39,11,15,9,"res"],[39,14,15,12],[39,15,15,13,"json"],[39,19,15,17],[39,20,15,18],[39,21,15,19],[40,2,16,0],[41,2,18,7],[41,8,18,13,"api"],[41,11,18,16],[41,14,18,19],[42,4,19,2,"registerUser"],[42,16,19,14],[42,18,19,17,"data"],[42,22,19,26],[42,26,19,31,"apiFetch"],[42,34,19,39],[42,35,19,40],[42,56,19,61],[42,58,19,63],[43,6,19,65,"method"],[43,12,19,71],[43,14,19,73],[43,20,19,79],[44,6,19,81,"body"],[44,10,19,85],[44,12,19,87,"JSON"],[44,16,19,91],[44,17,19,92,"stringify"],[44,26,19,101],[44,27,19,102,"data"],[44,31,19,106],[45,4,19,108],[45,5,19,109],[45,6,19,110],[46,4,20,2,"getUser"],[46,11,20,9],[46,13,20,12,"id"],[46,15,20,22],[46,19,20,27,"apiFetch"],[46,27,20,35],[46,28,20,36],[46,42,20,50,"id"],[46,44,20,52],[46,46,20,54],[46,47,20,55],[47,4,21,2,"joinInvite"],[47,14,21,12],[47,16,21,15,"data"],[47,20,21,24],[47,24,21,29,"apiFetch"],[47,32,21,37],[47,33,21,38],[47,51,21,56],[47,53,21,58],[48,6,21,60,"method"],[48,12,21,66],[48,14,21,68],[48,20,21,74],[49,6,21,76,"body"],[49,10,21,80],[49,12,21,82,"JSON"],[49,16,21,86],[49,17,21,87,"stringify"],[49,26,21,96],[49,27,21,97,"data"],[49,31,21,101],[50,4,21,103],[50,5,21,104],[50,6,21,105],[51,4,22,2,"getCouple"],[51,13,22,11],[51,15,22,14,"id"],[51,17,22,24],[51,21,22,29,"apiFetch"],[51,29,22,37],[51,30,22,38],[51,45,22,53,"id"],[51,47,22,55],[51,49,22,57],[51,50,22,58],[52,4,23,2,"getCoupleStatus"],[52,19,23,17],[52,21,23,20,"id"],[52,23,23,30],[52,27,23,35,"apiFetch"],[52,35,23,43],[52,36,23,44],[52,51,23,59,"id"],[52,53,23,61],[52,62,23,70],[52,63,23,71],[53,4,24,2,"getQuizzes"],[53,14,24,12],[53,16,24,14,"getQuizzes"],[53,17,24,14],[53,22,24,20,"apiFetch"],[53,30,24,28],[53,31,24,29],[53,45,24,43],[53,46,24,44],[54,4,25,2,"getQuiz"],[54,11,25,9],[54,13,25,12,"id"],[54,15,25,22],[54,19,25,27,"apiFetch"],[54,27,25,35],[54,28,25,36],[54,44,25,52,"id"],[54,46,25,54],[54,48,25,56],[54,49,25,57],[55,4,26,2,"submitQuiz"],[55,14,26,12],[55,16,26,15,"data"],[55,20,26,24],[55,24,26,29,"apiFetch"],[55,32,26,37],[55,33,26,38],[55,51,26,56],[55,53,26,58],[56,6,26,60,"method"],[56,12,26,66],[56,14,26,68],[56,20,26,74],[57,6,26,76,"body"],[57,10,26,80],[57,12,26,82,"JSON"],[57,16,26,86],[57,17,26,87,"stringify"],[57,26,26,96],[57,27,26,97,"data"],[57,31,26,101],[58,4,26,103],[58,5,26,104],[58,6,26,105],[59,4,27,2,"getQuizResult"],[59,17,27,15],[59,19,27,18,"id"],[59,21,27,28],[59,25,27,33,"apiFetch"],[59,33,27,41],[59,34,27,42],[59,54,27,62,"id"],[59,56,27,64],[59,58,27,66],[59,59,27,67],[60,4,28,2,"getCoupleResults"],[60,20,28,18],[60,22,28,21,"id"],[60,24,28,31],[60,28,28,36,"apiFetch"],[60,36,28,44],[60,37,28,45],[60,58,28,66,"id"],[60,60,28,68],[60,62,28,70],[61,2,29,0],[61,3,29,1],[62,2,31,7],[62,8,31,13,"storage"],[62,15,31,20],[62,18,31,23],[63,4,32,2,"setUserId"],[63,13,32,11],[63,15,32,14,"id"],[63,17,32,24],[63,21,32,29,"AsyncStorage"],[63,33,32,41],[63,34,32,41,"default"],[63,41,32,41],[63,42,32,42,"setItem"],[63,49,32,49],[63,50,32,50],[63,67,32,67],[63,69,32,69,"id"],[63,71,32,71],[63,72,32,72],[64,4,33,2,"getUserId"],[64,13,33,11],[64,15,33,13,"getUserId"],[64,16,33,13],[64,21,33,19,"AsyncStorage"],[64,33,33,31],[64,34,33,31,"default"],[64,41,33,31],[64,42,33,32,"getItem"],[64,49,33,39],[64,50,33,40],[64,67,33,57],[64,68,33,58],[65,4,34,2,"setCoupleId"],[65,15,34,13],[65,17,34,16,"id"],[65,19,34,26],[65,23,34,31,"AsyncStorage"],[65,35,34,43],[65,36,34,43,"default"],[65,43,34,43],[65,44,34,44,"setItem"],[65,51,34,51],[65,52,34,52],[65,71,34,71],[65,73,34,73,"id"],[65,75,34,75],[65,76,34,76],[66,4,35,2,"getCoupleId"],[66,15,35,13],[66,17,35,15,"getCoupleId"],[66,18,35,15],[66,23,35,21,"AsyncStorage"],[66,35,35,33],[66,36,35,33,"default"],[66,43,35,33],[66,44,35,34,"getItem"],[66,51,35,41],[66,52,35,42],[66,71,35,61],[66,72,35,62],[67,4,36,2,"setInviteCode"],[67,17,36,15],[67,19,36,18,"code"],[67,23,36,30],[67,27,36,35,"AsyncStorage"],[67,39,36,47],[67,40,36,47,"default"],[67,47,36,47],[67,48,36,48,"setItem"],[67,55,36,55],[67,56,36,56],[67,77,36,77],[67,79,36,79,"code"],[67,83,36,83],[67,84,36,84],[68,4,37,2,"getInviteCode"],[68,17,37,15],[68,19,37,17,"getInviteCode"],[68,20,37,17],[68,25,37,23,"AsyncStorage"],[68,37,37,35],[68,38,37,35,"default"],[68,45,37,35],[68,46,37,36,"getItem"],[68,53,37,43],[68,54,37,44],[68,75,37,65],[68,76,37,66],[69,4,38,2,"clear"],[69,9,38,7],[69,11,38,9,"clear"],[69,12,38,9],[69,17,38,15,"AsyncStorage"],[69,29,38,27],[69,30,38,27,"default"],[69,37,38,27],[69,38,38,28,"multiRemove"],[69,49,38,39],[69,50,38,40],[69,51,38,41],[69,68,38,58],[69,70,38,60],[69,89,38,79],[69,91,38,81],[69,112,38,102],[69,113,38,103],[70,2,39,0],[70,3,39,1],[71,0,39,2],[71,3]],"functionMap":{"names":["<global>","apiFetch","registerUser","getUser","joinInvite","getCouple","getCoupleStatus","getQuizzes","getQuiz","submitQuiz","getQuizResult","getCoupleResults","storage.setUserId","storage.getUserId","storage.setCoupleId","storage.getCoupleId","storage.setInviteCode","storage.getInviteCode","storage.clear"],"mappings":"AAA;ACI;CDW;gBEG,8FF;WGC,4CH;cIC,2FJ;aKC,6CL;mBMC,oDN;cOC,8BP;WQC,8CR;cSC,2FT;iBUC,kDV;oBWC,mDX;aYI,2DZ;aaC,6Cb;ecC,6Dd;eeC,+Cf;iBgBC,mEhB;iBiBC,iDjB;SkBC,+FlB"},"hasCjsExports":false},"type":"js/module"}]}